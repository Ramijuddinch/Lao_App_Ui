{"version":3,"sources":["../../src/pages/mycart/mycart.module.ts","../../src/pages/mycart/mycart.ts"],"names":[],"mappings":"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","file":"17.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { MycartPage } from './mycart';\r\nimport { ComponentsModule } from '../../components/components.module';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    MycartPage,\r\n  ],\r\n  imports: [\r\n    IonicPageModule.forChild(MycartPage),\r\n    ComponentsModule\r\n  ],\r\n})\r\nexport class MycartPageModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/mycart/mycart.module.ts","import { Component } from '@angular/core';\r\nimport { IonicPage, NavController, NavParams, AlertController, Events } from 'ionic-angular';\r\nimport { ToastProvider } from '../../providers/services/toast';\r\nimport { ServicesProvider } from '../../providers/services/services';\r\nimport { DataHandler } from '../../Datahandler/datahandler';\r\nimport { LoaderService } from '../../providers/services/loader';\r\nimport { AlertService } from '../../providers/services/alert_service';\r\nimport {GlobalProvider} from '../../providers/services/global';\r\n// import { global } from '@angular/core/src/util';\r\n@IonicPage()\r\n@Component({\r\n  selector: 'page-mycart',\r\n  templateUrl: 'mycart.html',\r\n})\r\nexport class MycartPage {\r\n  // viewcart: any = [];\r\n  mobile: any;\r\n  total: number;\r\n  pattern: boolean;\r\n  isProduct: boolean = false;\r\n  viewcartlength: any;\r\n  cartCount: any;\r\n  orderId: any;\r\n  constructor(public navCtrl: NavController,public events: Events, public alert : AlertService, public loader:LoaderService, public toast : ToastProvider,public serviceHandler : ServicesProvider,\r\n    public alertCtrl: AlertController, public navParams: NavParams,public dataHandler :DataHandler,public global: GlobalProvider,) {\r\n      this.total=global.total;\r\n      this.cartCount=global.cartCount;\r\n      this.dataHandler.storage.get(\"mobile\").then(mobile => {\r\n        this.mobile = mobile;\r\n        this.viewCart();\r\n      })\r\n  }\r\n\r\n  \r\n  ionViewDidLoad() {\r\n\r\n  }\r\n  calculateTotalAmount() {\r\n    this.global.total = 0;\r\n    this.global.viewcart.forEach(product => {\r\n    this.global.total += parseFloat(product.price) * parseFloat(product.qty); \r\n  });\r\n}\r\n\r\n\r\n  getqty(product) {\r\n    var numpattern = new RegExp(\"^[1-9][0-9]\\d*$\");\r\n    this.pattern = numpattern.test(product.qty);\r\n   if(this.pattern != false){\r\n    let data = {\r\n      userId:product.sku,\r\n      sku:product.sku,\r\n      mobile: this.mobile,\r\n      name:product.name,\r\n      qty:product.qty,\r\n      price:product.price,\r\n      image:product.image,\r\n      wholesaler: product.wholesaler\r\n  }\r\n    this.serviceHandler.Add_To_Cart(data).then(val =>{\r\n      this.loader.show();\r\n      this.viewCart();\r\n      this.calculateTotalAmount();\r\n      this.loader.hide();\r\n    })\r\n   }else{\r\n    this.toast.show('Please enter valid quantity ')\r\n   }\r\n}  \r\n\r\n  removecart(cart){\r\n    this.alert.showConfirm(\"Confirm Remove\",\"Are you sure you want to remove this item from cart?\",\"No\",\"Yes\")\r\n    .then(status => {\r\n      if (status) {\r\n        console.log(status,'28374678484498585')\r\n        console.log(cart._id,'023089855888')\r\n        this.serviceHandler.Remove_Cart(cart._id).then(val =>{\r\n          // if(val['result'] != 402){\r\n            this.toast.show('Product is removed from your cart')\r\n            this.viewCart();\r\n            this.calculateTotalAmount();\r\n          // }\r\n        })\r\n      }\r\n    });\r\n     this.viewCart();\r\n  }\r\n\r\n  viewCart(){\r\n    this.serviceHandler.View_Cart(this.mobile).then(value =>{\r\n\r\n      console.log(value['WholesalerAddress'],\"test\");\r\n\r\n\r\n      if(value['code'] == 200){\r\n        this.global.viewcart = value['message'];\r\n        this.global.WholesalerAddress=value['WholesalerAddress'];\r\n        this.viewcartlength =  value['message'].length;\r\n        this.global.cartCount = this.viewcartlength;\r\n        this.events.publish(\"productCount:addCount\", this.cartCount, true);  \r\n        this.calculateTotalAmount();\r\n        this.isProduct = true;\r\n      }else{\r\n        if(value['code'] == 402){\r\n          this.global.cartCount = 0;\r\n          this.global.viewcart = []\r\n          this.events.publish(\"productCount:addCount\", this.cartCount, true);\r\n          this.isProduct = false;\r\n        }else{\r\n\r\n        }\r\n       \r\n      }\r\n    })\r\n  }\r\n  proceedCheckout(){\r\n    //adding grand total - bug - 4022 - Mythreyi\r\n    // let data = {\r\n    //   userId:this.mobile,\r\n    //   mobile:this.mobile,\r\n    //   grandTotal:this.total,\r\n    //   order: this.viewcart\r\n    \r\n    // }\r\n    console.log(this.total,\"7777777777777777\")\r\n    console.log(this.cartCount,\"888888888888888\")\r\n    // this.serviceHandler.Place_Order(data).then(val =>{\r\n    //   if(val['code']== 200){\r\n    //       this.orderId = val['orderId'];\r\n\r\n        // this.navCtrl.push('ThankyouPage',{orderID : this.orderId })\r\n\r\n           this.navCtrl.push('OrdersummeryPage')\r\n  //     }else{\r\n\r\n  //     }\r\n  //   })\r\n    \r\n   }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/mycart/mycart.ts"],"sourceRoot":""}